/* Rounded-square card surface: soft base + ultra-subtle grain */
.noise-surface {
  position: relative;
  background:
    linear-gradient(0deg, rgba(255,255,255,0.9), rgba(255,255,255,0.9));
}
@media (prefers-color-scheme: dark) {
  .noise-surface {
    background:
      linear-gradient(0deg, rgba(28,28,28,0.85), rgba(28,28,28,0.85));
  }
}

/* Grain overlay */
.noise-surface::after {
  content: "";
  pointer-events: none;
  position: absolute; inset: 0;
  opacity: .06; /* tweak between 0.04â€“0.08 to taste */
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'>\
  <filter id='n'>\
    <feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/>\
    <feColorMatrix type='saturate' values='0'/>\
    <feComponentTransfer><feFuncA type='table' tableValues='0 0 0 .06 .12 .18 .24 .3 .36 .42 1'/></feComponentTransfer>\
  </filter>\
  <rect width='100%' height='100%' filter='url(#n)'/>\
</svg>");
  background-size: 220px 220px;
}

/* HIDE scrollbars but preserve scroll */
.hide-scrollbar {
  -ms-overflow-style: none;     /* IE/Edge legacy */
  scrollbar-width: none;        /* Firefox */
}
.hide-scrollbar::-webkit-scrollbar { display: none; } /* Chrome/Safari/Edge */

/* Backdrop GPU hint */
.backdrop-boost { will-change: backdrop-filter; }

/* No backdrop-filter fallback: keep brightness, no dark tint */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .no-blur-fallback { background: transparent !important; }
  /* Optional slight clarity boost to separate modal without dimming */
  #appRoot[data-modal-open="true"] {
    filter: contrast(1.02) saturate(1.02);
  }
}