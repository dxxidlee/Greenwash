/* Rounded-square card surface: soft base + ultra-subtle grain */
.noise-surface {
  position: relative;
  /* Background color will be set by Tailwind classes */
}

/* Grain overlay */
.noise-surface::after {
  content: "";
  pointer-events: none;
  position: absolute; inset: 0;
  opacity: .06; /* tweak between 0.04â€“0.08 to taste */
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'>\
  <filter id='n'>\
    <feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/>\
    <feColorMatrix type='saturate' values='0'/>\
    <feComponentTransfer><feFuncA type='table' tableValues='0 0 0 .06 .12 .18 .24 .3 .36 .42 1'/></feComponentTransfer>\
  </filter>\
  <rect width='100%' height='100%' filter='url(#n)'/>\
</svg>");
  background-size: 220px 220px;
}

/* HIDE scrollbars but preserve scroll */
.hide-scrollbar {
  -ms-overflow-style: none;     /* IE/Edge legacy */
  scrollbar-width: none;        /* Firefox */
}
.hide-scrollbar::-webkit-scrollbar { display: none; } /* Chrome/Safari/Edge */

/* Backdrop GPU hint */
.backdrop-boost { will-change: backdrop-filter; }

/* No backdrop-filter fallback: keep brightness, no dark tint */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .no-blur-fallback { background: transparent !important; }
  /* Optional slight clarity boost to separate modal without dimming */
  #appRoot[data-modal-open="true"] {
    filter: contrast(1.02) saturate(1.02);
  }
}

/* Custom animations for journal modal */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInScale {
  from { 
    opacity: 0; 
    transform: scale(0.95); 
  }
  to { 
    opacity: 1; 
    transform: scale(1); 
  }
}

@keyframes fadeInScaleUp {
  from { 
    opacity: 0; 
    transform: scale(0.95) translateY(16px); 
  }
  to { 
    opacity: 1; 
    transform: scale(1) translateY(0); 
  }
}

@keyframes fadeInUp {
  from { 
    opacity: 0; 
    transform: translateY(16px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

/* Reverse animations for closing */
@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes fadeOutScale {
  from { 
    opacity: 1; 
    transform: scale(1); 
  }
  to { 
    opacity: 0; 
    transform: scale(0.95); 
  }
}

@keyframes fadeOutScaleDown {
  from { 
    opacity: 1; 
    transform: scale(1) translateY(0); 
  }
  to { 
    opacity: 0; 
    transform: scale(0.95) translateY(16px); 
  }
}

@keyframes fadeOutDown {
  from { 
    opacity: 1; 
    transform: translateY(0); 
  }
  to { 
    opacity: 0; 
    transform: translateY(16px); 
  }
}